# 套接字(Socket)

所谓套接字(Socket)，就是对网络中不同主机上的应用进程之间进行双向通信的端点的抽象。一个套接字就是网络上进程通信的一端，提供了应用层进程利用网络协议交换数据的机制。从所处的地位来讲，套接字上联应用进程，下联网络协议栈，是应用程序通过网络协议进行通信的接口，是应用程序与网络协议栈进行交互的接口

套接字 = (网络地址：端口号) (210.37.145.1:23)

## 主要类型

1.**流套接字(SOCK_STREAM)**

流套接字用于提供面向连接、可靠的数据传输服务。该服务将保证数据能够实现无差错、无重复送，并按顺序接收。TCP

2.**数据报套接字(SOCK_DGRAM)**

数据报套接字提供一种无连接的服务。该服务并不能保证数据传输的可靠性,数据有可能在传输过程中丢失或出现数据重复，且无法保证顺序地接收到数据。数据报套接字使用UDP( User DatagramProtocol)协议进行数据的传输。

3.**原始套接字(SOCK_RAW)**

原始套接字与标准套接字(标准套接字指的是前面介绍的流套接字和数据报套接字)的区别在于：原始套接字可以读写内核没有处理的IP数据包，而流套接字只能读取TCP协议的数据，数据报套接字只能读取UDP协议的数据。因此，如果要访问其他协议发送的数据必须使用原始套接字

## 工作流程

服务器监听，客户端请求，连接确定

# 面向连接的TCP套接字传输特性

传输过程中数据不会消失，按序传输数据，传输的数据不存在数据边界

收发数据的套接字内部有缓冲(buffer)，简而言之就是字节数组。通过套接字传输的数据将保存到该数组。因此，收到的数据并不意味着马上调用read函数。只要不超过数组容量，则有可能在数据填充充满后通过1次read函数调用读取全部，也有可能分成多次read函数调用。